<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
    crossorigin="anonymous">
  <title>Exercise</title>
</head>

<body>

  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="#">Minh Dao T.</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
        </li>
        <li class="nav-item">
        </li>
        <li class="nav-item">
        </li>
        <li class="nav-item dropdown">
        </li>
      </ul>
      <form class="form-inline my-2 my-lg-0">
        <button class="btn btn-outline-success my-2 my-sm-0" id="js-btn-cart" type="button">Cart</button>
      </form>
    </div>
  </nav>

  <main role="main">

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1 class="display-3">Hello, world!</h1>
        <p>This is a template for a simple marketing or informational website. It includes a large callout called a jumbotron
          and three supporting pieces of content. Use it as a starting point to create something more unique.</p>
      </div>
    </div>

    <div class="container">
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-md-4">
          <h2>Item 1</h2>
          <p>200</p>
          <p>
            <a class="btn btn-secondary js-btn-buy" href="#" data-name="Product 1" data-price="200" role="button">Buy</a>
          </p>
        </div>
        <div class="col-md-4">
          <h2>Item 2</h2>
          <p>100</p>
          <p>
            <a class="btn btn-secondary js-btn-buy" href="#" data-name="Product 2" data-price="100" role="button">Buy</a>
          </p>
        </div>
        <div class="col-md-4">
          <h2>Item 3</h2>
          <p>300</p>
          <p>
            <a class="btn btn-secondary js-btn-buy" href="#" data-name="Product 3" data-price="300" role="button">Buy</a>
          </p>
        </div>
      </div>

      <hr>

    </div>
    <!-- /container -->
    <!-- show cart -->
    <div class="container">
      <div class="row" id="js-show-cart">
      </div>
    </div>

  </main>

  <footer class="container">
    <p>Â© Company 2017</p>
  </footer>

  <!-- JavaScript -->
  <script>
    var cart = [];

    var $listButton = document.getElementsByClassName('js-btn-buy');
    for (var i of $listButton) {
      i.addEventListener('click', function () {
        var l = cart.length
        for (var i = 0; i < l; i++) {
          if (this.getAttribute('data-name') === cart[i]['name']) {
            cart[i]['amount'] += 1;
            return;
          }
        } 
        var $item = {
          name:  this.getAttribute('data-name'),
          price: this.getAttribute('data-price'),
          amount: 1,
        }
        cart.push($item);
      });
    }

    document.getElementById('js-btn-cart').addEventListener('click', showCart);
    function showCart() {
      if (cart.length > 0) {
        var listCart = '<table class="table"><thead><tr><th scope="col">Name</th><th scope="col">Price</th><th scope="col">Amount</th><th scope="col">Total</th></tr></thead><tbody>';
        var name, price, amount, total, sum = 0;
        var l = cart.length
        for (var i = 0; i < l; i++) {
          name      = '<td>' + cart[i]['name'] + '</td>';
          price     = '<td>' + cart[i]['price'] + '</td>';
          amount    = '<td>' + cart[i]['amount'] + '</td>';
          total     = '<td>' + (cart[i]['price'] * cart[i]['amount']) + '</td>';
          listCart += '<tr>' + name + price + amount + total + '</tr>';
          sum      += (cart[i]['price'] * cart[i]['amount']);
        }
        listCart += '<tr><td></td><td></td><td><strong>Money</strong></td><td>' + sum + '</td></tr></tbody></table>';
        document.getElementById('js-show-cart').innerHTML = listCart;
      }
    }
  </script>

</body>

</html>
